---
layout: post
title: static
category: oop
tags: [java, oop, static]
comments: false
---

# [static]()

## Main
~~~java
public class Main {
	public static void main(String[] args) {
//		Book b1 = new Book();
//		Book b2 = new Book();
//		Book b3 = new Book();
		System.out.println("갯수: " + Book.getCount()); // 원래 객체로 접근가능하지만 클래스명 접근가능
	}
}
~~~

## Book
~~~java
/*
 * static 변수 : 각 개체에서 공유하려고
 *             메모리에 단하나임
 *             * 클래스명 접근가능(그래서 static 변수 = 클래스 변수)
 */
public class Book {
	private static int count;
	public Book() {
		count++;
		System.out.println("책 한권 생성");
	}
	static public int getCount() {
		return count;
	}
}
~~~

## Test
~~~java
public class Test {
	public static void main(String[] args) {
		UserA a = new UserA();
		a.use();
		UserB b = new UserB();
		b.use();
		UserC c = new UserC();
		c.use();
	}
}
~~~

## DBConnect
~~~java
public class DBConnect {
	static DBConnect db;
	private DBConnect(){
		System.out.println("실제로 디비에 연결을 얻어옴");
	}
	public static DBConnect getInstance() {
		if(db == null) {db = new DBConnect();}
		return db;
	}
}
~~~

## UserA
~~~java
class UserA {
	DBConnect con;
	public UserA() {
		// con = new DBConnect();
		con = DBConnect.getInstance();
	}
	public void use() {
		System.out.println("디비 작업중");
	}
}
~~~

## UserB
~~~java
class UserB {
	DBConnect con;
	public UserB() {
		// con = new DBConnect();
		con = DBConnect.getInstance();
	}
	public void use() {
		System.out.println("디비 작업중");
	}
}
~~~

## UserC
~~~java
class UserC {
	DBConnect con;
	public UserC() {
		// con = new DBConnect();
		con = DBConnect.getInstance();
	}
	public void use() {
		System.out.println("디비 작업중");
	}
}
~~~